{"ast":null,"code":"import Swal from 'sweetalert2';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../services/user.service\";\nimport * as i2 from \"@angular/common\";\nfunction CartComponent_tr_20_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\", 7);\n    i0.ɵɵtext(2, \"No item added\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction CartComponent_tr_21_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r5 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"tr\")(1, \"th\", 8);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"td\");\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"td\")(10, \"button\", 9);\n    i0.ɵɵlistener(\"click\", function CartComponent_tr_21_Template_button_click_10_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r5);\n      const cart_r2 = restoredCtx.$implicit;\n      const ctx_r4 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r4.onRemove(cart_r2[\"id\"]));\n    });\n    i0.ɵɵtext(11, \"Delete\");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const cart_r2 = ctx.$implicit;\n    const idx_r3 = ctx.index;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(idx_r3 + 1);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(cart_r2[\"product\"][\"productName\"]);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(cart_r2[\"counter\"]);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(cart_r2[\"counter\"] * cart_r2[\"product\"][\"productPrice\"]);\n  }\n}\nexport class CartComponent {\n  constructor(userService) {\n    this.userService = userService;\n    this.carts = [];\n    this.total = 0;\n  }\n  ngOnInit() {\n    this.getAllCart();\n  }\n  getAllCart() {\n    this.userService.allCart().subscribe(reponse => {\n      this.carts = Array.from(reponse['products']);\n      this.total = +reponse['total'];\n    });\n  }\n  onRemove(id) {\n    this.userService.removeCart(id).subscribe(response => {\n      this.getAllCart();\n      this.purchaseSuccess(\"Item removed\");\n    });\n  }\n  onOrder() {\n    this.userService.order().subscribe(response => {\n      this.getAllCart();\n      this.purchaseSuccess(\"order placed\");\n    });\n  }\n  purchaseSuccess(text) {\n    Swal.fire({\n      title: 'Thank you...',\n      text,\n      icon: 'success'\n    });\n  }\n}\nCartComponent.ɵfac = function CartComponent_Factory(t) {\n  return new (t || CartComponent)(i0.ɵɵdirectiveInject(i1.UserService));\n};\nCartComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: CartComponent,\n  selectors: [[\"app-cart\"]],\n  decls: 24,\n  vars: 3,\n  consts: [[1, \"navbar\", \"navbar-light\", \"bg-success\"], [1, \"container-fluid\"], [1, \"btn\", \"btn-success\", \"m-3\", 3, \"click\"], [1, \"table\", \"table-striped\"], [\"scope\", \"col\"], [4, \"ngIf\"], [4, \"ngFor\", \"ngForOf\"], [\"colspan\", \"5\"], [\"scope\", \"row\"], [1, \"btn\", \"btn-danger\", 3, \"click\"]],\n  template: function CartComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"nav\", 0)(1, \"div\", 1)(2, \"h1\");\n      i0.ɵɵtext(3, \"My Cart\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(4, \"button\", 2);\n      i0.ɵɵlistener(\"click\", function CartComponent_Template_button_click_4_listener() {\n        return ctx.onOrder();\n      });\n      i0.ɵɵtext(5, \"Order Now\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(6, \"table\", 3)(7, \"thead\")(8, \"tr\")(9, \"th\", 4);\n      i0.ɵɵtext(10, \"#\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(11, \"th\", 4);\n      i0.ɵɵtext(12, \"Fruit Name \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(13, \"th\", 4);\n      i0.ɵɵtext(14, \"Quantity\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(15, \"th\", 4);\n      i0.ɵɵtext(16, \"Price\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(17, \"th\", 4);\n      i0.ɵɵtext(18, \"Action\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(19, \"tbody\");\n      i0.ɵɵtemplate(20, CartComponent_tr_20_Template, 3, 0, \"tr\", 5);\n      i0.ɵɵtemplate(21, CartComponent_tr_21_Template, 12, 4, \"tr\", 6);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(22, \"h2\");\n      i0.ɵɵtext(23);\n      i0.ɵɵelementEnd();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(20);\n      i0.ɵɵproperty(\"ngIf\", ctx.carts.length == 0);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngForOf\", ctx.carts);\n      i0.ɵɵadvance(2);\n      i0.ɵɵtextInterpolate1(\"Total: \", ctx.total, \"\");\n    }\n  },\n  dependencies: [i2.NgForOf, i2.NgIf],\n  styles: [\"h1[_ngcontent-%COMP%] {\\n    color: #ffffff;\\n}\\n\\n.table[_ngcontent-%COMP%]   head[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%] {\\n    text-align: center;\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvY2FydC9jYXJ0LmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7SUFDSSxjQUFjO0FBQ2xCOztBQUVBO0lBQ0ksa0JBQWtCO0FBQ3RCIiwic291cmNlc0NvbnRlbnQiOlsiaDEge1xuICAgIGNvbG9yOiAjZmZmZmZmO1xufVxuXG4udGFibGUgaGVhZCB0ciB7XG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xufSJdLCJzb3VyY2VSb290IjoiIn0= */\"]\n});","map":{"version":3,"mappings":"AACA,OAAOA,IAAI,MAAM,aAAa;;;;;;ICgBtBC,0BAA8B;IACVA,6BAAa;IAAAA,iBAAK;;;;;;IAEtCA,0BAAgD;IAC5BA,YAAY;IAAAA,iBAAK;IACjCA,0BAAI;IAAAA,YAAkC;IAAAA,iBAAK;IAC3CA,0BAAI;IAAAA,YAAmB;IAAAA,iBAAK;IAC5BA,0BAAI;IAAAA,YAAqD;IAAAA,iBAAK;IAC9DA,0BAAI;IAC+BA;MAAA;MAAA;MAAA;MAAA,OAASA,uCAAc,IAAI,EAAE;IAAA,EAAC;IAACA,uBAAM;IAAAA,iBAAS;;;;;IALjEA,eAAY;IAAZA,gCAAY;IACxBA,eAAkC;IAAlCA,uDAAkC;IAClCA,eAAmB;IAAnBA,wCAAmB;IACnBA,eAAqD;IAArDA,6EAAqD;;;ADfrE,OAAM,MAAOC,aAAa;EAGxBC,YAAoBC,WAAwB;IAAxB,gBAAW,GAAXA,WAAW;IAF/B,UAAK,GAAG,EAAE;IACV,UAAK,GAAG,CAAC;EACuC;EAEhDC,QAAQ;IACN,IAAI,CAACC,UAAU,EAAE;EACnB;EAEAA,UAAU;IACR,IAAI,CAACF,WAAW,CAACG,OAAO,EAAE,CAACC,SAAS,CAAEC,OAAY,IAAI;MACpD,IAAI,CAACC,KAAK,GAAGC,KAAK,CAACC,IAAI,CAACH,OAAO,CAAC,UAAU,CAAC,CAAC;MAC5C,IAAI,CAACI,KAAK,GAAG,CAACJ,OAAO,CAAC,OAAO,CAAC;IAChC,CAAC,CAAC;EAEJ;EAEAK,QAAQ,CAACC,EAAU;IAChB,IAAI,CAACX,WAAW,CAACY,UAAU,CAACD,EAAE,CAAC,CAACP,SAAS,CAAES,QAAa,IAAI;MAC3D,IAAI,CAACX,UAAU,EAAE;MACjB,IAAI,CAACY,eAAe,CAAC,cAAc,CAAC;IAEtC,CAAC,CAAC;EACJ;EACAC,OAAO;IACL,IAAI,CAACf,WAAW,CAACgB,KAAK,EAAE,CAACZ,SAAS,CAACS,QAAQ,IAAG;MAC5C,IAAI,CAACX,UAAU,EAAE;MACjB,IAAI,CAACY,eAAe,CAAC,cAAc,CAAC;IACtC,CAAC,CAAC;EACJ;EACAA,eAAe,CAACG,IAAY;IAC1BrB,IAAI,CAACsB,IAAI,CAAC;MACRC,KAAK,EAAE,cAAc;MACrBF,IAAI;MACJG,IAAI,EAAE;KACP,CAAC;EACJ;;AApCWtB,aAAa;mBAAbA,aAAa;AAAA;AAAbA,aAAa;QAAbA,aAAa;EAAAuB;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;MCT1B5B,8BAA4C;MAEhCA,uBAAO;MAAAA,iBAAK;MAGxBA,iCAAwD;MAApBA;QAAA,OAAS6B,aAAS;MAAA,EAAC;MAAC7B,yBAAS;MAAAA,iBAAS;MAC1EA,gCAAmC;MAGPA,kBAAC;MAAAA,iBAAK;MACtBA,8BAAgB;MAAAA,4BAAW;MAAAA,iBAAK;MAChCA,8BAAgB;MAAAA,yBAAQ;MAAAA,iBAAK;MAC7BA,8BAAgB;MAAAA,sBAAK;MAAAA,iBAAK;MAC1BA,8BAAgB;MAAAA,uBAAM;MAAAA,iBAAK;MAGnCA,8BAAO;MACHA,8DAEK;MACLA,+DAQK;MACTA,iBAAQ;MAGZA,2BAAI;MAAAA,aAAgB;MAAAA,iBAAK;;;MAfZA,gBAAuB;MAAvBA,4CAAuB;MAGPA,eAAU;MAAVA,mCAAU;MAYnCA,eAAgB;MAAhBA,+CAAgB","names":["Swal","i0","CartComponent","constructor","userService","ngOnInit","getAllCart","allCart","subscribe","reponse","carts","Array","from","total","onRemove","id","removeCart","response","purchaseSuccess","onOrder","order","text","fire","title","icon","selectors","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["C:\\Users\\JIGYANSHREE\\Desktop\\fruit ordering system\\fruit-project-master\\fruit-frontend\\src\\app\\cart\\cart.component.ts","C:\\Users\\JIGYANSHREE\\Desktop\\fruit ordering system\\fruit-project-master\\fruit-frontend\\src\\app\\cart\\cart.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport Swal from 'sweetalert2';\nimport { UserService } from '../services/user.service';\n\n@Component({\n  selector: 'app-cart',\n  templateUrl: './cart.component.html',\n  styleUrls: ['./cart.component.css']\n})\nexport class CartComponent implements OnInit {\n  carts = [];\n  total = 0;\n  constructor(private userService: UserService) { }\n\n  ngOnInit(): void {\n    this.getAllCart();\n  }\n\n  getAllCart() {\n    this.userService.allCart().subscribe((reponse: any) => {\n      this.carts = Array.from(reponse['products']);\n      this.total = +reponse['total'];\n    });\n\n  }\n\n  onRemove(id: string) {\n     this.userService.removeCart(id).subscribe((response: any) => {\n      this.getAllCart();\n      this.purchaseSuccess(\"Item removed\");\n\n    })\n  }\n  onOrder() {\n    this.userService.order().subscribe(response => {\n      this.getAllCart();\n      this.purchaseSuccess(\"order placed\")\n    })\n  }\n  purchaseSuccess(text: string) {\n    Swal.fire({\n      title: 'Thank you...',\n      text,\n      icon: 'success',\n    });\n  }\n\n}\n","<nav class=\"navbar navbar-light bg-success\">\n    <div class=\"container-fluid\">\n        <h1>My Cart</h1>\n    </div>\n</nav>\n<button class=\"btn btn-success m-3\" (click)=\"onOrder()\">Order Now</button>\n<table class=\"table table-striped\">\n    <thead>\n        <tr>\n            <th scope=\"col\">#</th>\n            <th scope=\"col\">Fruit Name </th>\n            <th scope=\"col\">Quantity</th>\n            <th scope=\"col\">Price</th>\n            <th scope=\"col\">Action</th>\n        </tr>\n    </thead>\n    <tbody>\n        <tr *ngIf=\"carts.length == 0\">\n            <td colspan=\"5\">No item added</td>\n        </tr>\n        <tr *ngFor=\"let cart of carts; let idx = index\">\n            <th scope=\"row\">{{ idx + 1}}</th>\n            <td>{{cart['product']['productName']}}</td>\n            <td>{{cart['counter']}}</td>\n            <td>{{cart['counter'] * cart['product']['productPrice']}}</td>\n            <td>\n                <button class=\"btn btn-danger\" (click)=\"onRemove(cart['id'])\">Delete</button>\n            </td>\n        </tr>\n    </tbody>\n</table>\n\n<h2>Total: {{total}}</h2>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}